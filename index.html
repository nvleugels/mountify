<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mountify - SFTP Drive Mounter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#eff6ff",
                100: "#dbeafe",
                200: "#bfdbfe",
                300: "#93c5fd",
                400: "#60a5fa",
                500: "#3b82f6",
                600: "#2563eb",
                700: "#1d4ed8",
                800: "#1e40af",
                900: "#1e3a8a",
              },
            },
          },
        },
      };
    </script>
    <style>
      /* Toggle switch - complex component that benefits from reusable class */
      .toggle {
        position: relative;
        display: inline-block;
        width: 3rem;
        height: 1.5rem;
        cursor: pointer;
      }
      .toggle input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .toggle-slider {
        position: absolute;
        inset: 0;
        background-color: #d1d5db;
        border-radius: 9999px;
        transition: all 0.2s;
      }
      .toggle-slider:before {
        content: "";
        position: absolute;
        height: 1.25rem;
        width: 1.25rem;
        left: 0.125rem;
        bottom: 0.125rem;
        background-color: white;
        border-radius: 9999px;
        transition: transform 0.2s;
      }
      .toggle input:checked + .toggle-slider {
        background-color: #2563eb;
      }
      .toggle input:checked + .toggle-slider:before {
        transform: translateX(1.5rem);
      }

      /* Toast animation */
      @keyframes slide-in {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      .animate-slide-in {
        animation: slide-in 0.3s ease-out;
      }
    </style>
  </head>
  <body class="bg-gray-50 h-screen overflow-hidden">
    <div id="app" class="h-full flex flex-col">
      <!-- Header -->
      <header class="bg-white border-b border-gray-200 px-6 py-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-3">
            <img
              src="images/mountify.png"
              alt="Mountify"
              class="w-7 h-7 object-contain"
              onerror="this.onerror=null;this.outerHTML='<svg class=\"w-7 h-7 object-contain\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"><rect width=\"24\" height=\"24\" rx=\"4\" fill=\"#3b82f6\"/><path d=\"M6 15l6-6 6 6\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>';"
            />
            <h1 class="text-2xl font-bold text-gray-900">Mountify</h1>
          </div>
          <nav class="flex space-x-4">
            <button
              id="nav-servers"
              class="px-4 py-2 text-sm font-medium rounded-lg text-primary-700 bg-primary-100 hover:bg-primary-100 transition-colors"
            >
              Servers
            </button>
            <button
              id="nav-settings"
              class="px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors"
            >
              Settings
            </button>
          </nav>
        </div>
      </header>

      <!-- Main Content -->
      <main class="flex-1 overflow-hidden">
        <!-- Servers List View -->
        <div id="servers-view" class="h-full p-6 overflow-y-auto">
          <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-xl font-semibold text-gray-900">SFTP Servers</h2>
              <button
                id="btn-add-server"
                class="inline-flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"
              >
                <svg
                  class="w-5 h-5 mr-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 4v16m8-8H4"
                  ></path>
                </svg>
                Add Server
              </button>
            </div>

            <!-- Server List -->
            <ul
              id="servers-list"
              role="list"
              class="bg-white divide-y divide-gray-100 rounded-lg shadow-sm border border-gray-200"
            >
              <!-- Servers will be rendered here -->
            </ul>

            <!-- Empty State -->
            <div id="empty-state" class="hidden text-center py-12">
              <svg
                class="w-16 h-16 mx-auto text-gray-400 mb-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"
                ></path>
              </svg>
              <h3 class="text-lg font-medium text-gray-900 mb-2">
                No servers configured
              </h3>
              <p class="text-gray-500 mb-4">
                Get started by adding your first SFTP server
              </p>
              <button
                onclick="document.getElementById('btn-add-server').click()"
                class="inline-flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"
              >
                Add Your First Server
              </button>
            </div>
          </div>
        </div>

        <!-- Add/Edit Server View -->
        <div id="server-form-view" class="hidden h-full p-6 overflow-y-auto">
          <div class="max-w-2xl mx-auto">
            <div class="flex items-center mb-6">
              <button
                id="btn-back-to-servers"
                class="mr-4 text-gray-600 hover:text-gray-900"
              >
                <svg
                  class="w-6 h-6"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 19l-7-7 7-7"
                  ></path>
                </svg>
              </button>
              <h2 class="text-xl font-semibold text-gray-900" id="form-title">
                Add Server
              </h2>
            </div>

            <div
              class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"
            >
              <form id="server-form" class="space-y-4">
                <input type="hidden" id="server-id" />

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Server Name</label
                  >
                  <input
                    type="text"
                    id="server-name"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                    placeholder="My Server"
                    required
                  />
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Host</label
                    >
                    <input
                      type="text"
                      id="server-host"
                      class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                      placeholder="example.com"
                      required
                    />
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Port</label
                    >
                    <input
                      type="number"
                      id="server-port"
                      class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                      value="22"
                      min="1"
                      max="65535"
                      required
                    />
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Username</label
                  >
                  <input
                    type="text"
                    id="server-username"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                    placeholder="root"
                    required
                  />
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Password</label
                  >
                  <input
                    type="password"
                    id="server-password"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                    placeholder="••••••••"
                    required
                  />
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Drive Letter</label
                    >
                    <select
                      id="server-drive"
                      class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                    >
                      <!-- Options will be populated dynamically -->
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Remote Path</label
                    >
                    <input
                      type="text"
                      id="server-path"
                      class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                      placeholder="/"
                      value="/"
                    />
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Drive Label (Optional)</label
                  >
                  <input
                    type="text"
                    id="server-label"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                    placeholder="My Remote Drive"
                  />
                </div>

                <div class="flex items-center">
                  <input
                    type="checkbox"
                    id="server-automount"
                    class="h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"
                  />
                  <label
                    for="server-automount"
                    class="ml-2 text-sm text-gray-700"
                  >
                    Mount automatically on startup
                  </label>
                </div>

                <div
                  class="flex items-center justify-between pt-4 border-t border-gray-200"
                >
                  <div class="flex space-x-3">
                    <button
                      type="button"
                      id="btn-test-connection"
                      class="inline-flex items-center px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"
                    >
                      Test Connection
                    </button>
                    <button
                      type="button"
                      id="btn-delete-server"
                      class="hidden inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"
                    >
                      Delete Server
                    </button>
                  </div>
                  <div class="flex space-x-3">
                    <button
                      type="button"
                      id="btn-cancel"
                      class="inline-flex items-center px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      class="inline-flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"
                    >
                      Save Server
                    </button>
                  </div>
                </div>

                <div id="test-result" class="hidden mt-4 p-3 rounded-lg"></div>
              </form>
            </div>
          </div>
        </div>

        <!-- Settings View -->
        <div id="settings-view" class="hidden h-full p-6 overflow-y-auto">
          <div class="max-w-2xl mx-auto">
            <h2 class="text-xl font-semibold text-gray-900 mb-6">Settings</h2>

            <div
              class="bg-white rounded-lg shadow-sm border border-gray-200 divide-y divide-gray-200"
            >
              <!-- General Settings -->
              <div class="p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">General</h3>

                <div class="space-y-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <label class="text-sm font-medium text-gray-700"
                        >Start with Windows</label
                      >
                      <p class="text-sm text-gray-500">
                        Launch Mountify when Windows starts
                      </p>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="setting-autostart" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>

                  <div class="flex items-center justify-between">
                    <div>
                      <label class="text-sm font-medium text-gray-700"
                        >Start minimized to tray</label
                      >
                      <p class="text-sm text-gray-500">
                        Start Mountify minimized to the system tray on launch
                      </p>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="setting-start-minimized" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>

                  <div class="flex items-center justify-between">
                    <div>
                      <label class="text-sm font-medium text-gray-700"
                        >Minimize to system tray</label
                      >
                      <p class="text-sm text-gray-500">
                        Keep Mountify running in the background
                      </p>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="setting-tray" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>

                  <div class="flex items-center justify-between">
                    <div>
                      <label class="text-sm font-medium text-gray-700"
                        >Show notifications</label
                      >
                      <p class="text-sm text-gray-500">
                        Display notifications for mount events
                      </p>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="setting-notifications" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- Connection Settings -->
              <div class="p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">
                  Connection
                </h3>

                <div class="space-y-4">
                  <div>
                    <label class="text-sm font-medium text-gray-700 block mb-2"
                      >Connection timeout (seconds)</label
                    >
                    <input
                      type="number"
                      id="setting-timeout"
                      min="5"
                      max="60"
                      class="block w-32 px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                      value="10"
                    />
                  </div>

                  <div>
                    <label class="text-sm font-medium text-gray-700 block mb-2"
                      >Default SSH port</label
                    >
                    <input
                      type="number"
                      id="setting-port"
                      min="1"
                      max="65535"
                      class="block w-32 px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm"
                      value="22"
                    />
                  </div>
                </div>
              </div>

              <!-- Dependencies -->
              <div class="p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">
                  Dependencies
                </h3>

                <div class="space-y-3">
                  <div class="flex items-center justify-between">
                    <div class="flex-1">
                      <p class="text-sm font-medium text-gray-700">WinFsp</p>
                      <p class="text-xs text-gray-500" id="winfsp-status">
                        Checking...
                      </p>
                    </div>
                    <div class="flex items-center gap-2">
                      <span
                        id="winfsp-badge"
                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                      ></span>
                      <button
                        id="btn-uninstall-winfsp"
                        class="text-xs px-2 py-1 text-red-600 hover:text-red-800 hidden"
                      >
                        Uninstall
                      </button>
                    </div>
                  </div>

                  <div class="flex items-center justify-between">
                    <div class="flex-1">
                      <p class="text-sm font-medium text-gray-700">SSHFS-Win</p>
                      <p class="text-xs text-gray-500" id="sshfs-status">
                        Checking...
                      </p>
                    </div>
                    <div class="flex items-center gap-2">
                      <span
                        id="sshfs-badge"
                        class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                      ></span>
                      <button
                        id="btn-uninstall-sshfs"
                        class="text-xs px-2 py-1 text-red-600 hover:text-red-800 hidden"
                      >
                        Uninstall
                      </button>
                    </div>
                  </div>

                  <button
                    id="btn-install-deps"
                    class="inline-flex items-center px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors mt-4"
                  >
                    Install Dependencies
                  </button>
                </div>
              </div>

              <!-- About -->
              <div class="p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">About</h3>
                <div class="text-sm text-gray-600 space-y-2">
                  <p>
                    <strong>Version:</strong> <span id="app-version">-</span>
                  </p>
                  <div class="mt-2 space-y-2">
                    <div class="flex items-center gap-3">
                      <button
                        id="btn-check-updates"
                        class="inline-flex items-center px-3 py-1.5 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors"
                      >
                        Check for updates
                      </button>
                      <span id="update-status" class="text-xs text-gray-500"
                        >-</span
                      >
                      <button
                        id="btn-restart-install"
                        class="ml-2 inline-flex items-center px-3 py-1.5 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors hidden"
                      >
                        Restart & Install
                      </button>
                    </div>

                    <div
                      id="update-progress-container"
                      class="w-full bg-gray-200 rounded-full h-2 overflow-hidden hidden"
                    >
                      <div
                        id="update-progress"
                        class="h-2 bg-primary-600 w-0"
                      ></div>
                    </div>
                  </div>
                  <p><strong>License:</strong> MIT</p>
                  <p class="pt-2">
                    <a
                      href="https://github.com/nvleugels/mountify"
                      target="_blank"
                      rel="noreferrer noopener"
                      class="text-primary-600 hover:text-primary-700"
                      >GitHub Repository</a
                    >
                  </p>
                </div>
              </div>
            </div>

            <div class="mt-6 flex justify-end">
              <button
                id="btn-save-settings"
                class="inline-flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"
              >
                Save Settings
              </button>
            </div>
          </div>
        </div>
      </main>

      <!-- Toast Notifications -->
      <div id="toast-container" class="fixed bottom-4 right-4 space-y-2 z-50">
        <!-- Toasts will be added here -->
      </div>
    </div>

    <script src="./src/main.js"></script>
  </body>
</html>
